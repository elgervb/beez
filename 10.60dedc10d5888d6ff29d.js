(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{fp69:function(e,t,c){"use strict";c.r(t),c.d(t,"QueenModule",function(){return ce});var n=c("ofXK"),i=c("tyNb"),a=c("FVgD"),r=c("pLZG"),o=c("eIep"),s=c("vkgz"),b=c("n4x5"),l=c("fXoL"),u=c("0IaG"),d=c("Cfvw"),m=c("LRne"),f=c("lJxs"),h=c("I/3d"),p=c("i6m5");let g=(()=>{class e{constructor(e,t){this.angularFirestore=e,this.authService=t}get collectionPath(){return`beez/${this.authService.uid}/queens`}createQueen(e){return Object(d.a)(this.angularFirestore.collection(this.collectionPath).add(e))}deleteQueen(e){return this.angularFirestore.doc(`${this.collectionPath}/${e.id}`).delete(),Object(m.a)(!0)}getQueen(e){return this.angularFirestore.collection(this.collectionPath).doc(e).get().pipe(Object(f.a)(e=>e.data()),Object(f.a)(t=>t?Object.assign(Object.assign({},t),{id:e}):t))}getQueens(){return this.angularFirestore.collection(this.collectionPath).valueChanges({idField:"id"})}updateQueen(e){const t=this.angularFirestore.collection(this.collectionPath).doc(e.id);return t.update(e),t.get().pipe(Object(f.a)(e=>e.data()))}}return e.\u0275fac=function(t){return new(t||e)(l.Zb(h.a),l.Zb(p.a))},e.\u0275prov=l.Lb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var v=c("Wp6s"),V=c("MutI"),k=c("1jcm"),x=c("bTqV"),U=c("Pm42"),D=c("TeOG");function q(e,t){if(1&e&&(l.Vb(0,"mat-list-item",2),l.Vb(1,"span"),l.xc(2),l.gc(3,"i18nextCap"),l.Ub(),l.Qb(4,"bee-color-dot",7),l.Ub()),2&e){const e=l.fc().$implicit;l.Db(2),l.yc(l.hc(3,2,"color")),l.Db(2),l.lc("color",e.color)}}function y(e,t){if(1&e&&(l.Vb(0,"mat-list-item",2),l.xc(1),l.gc(2,"i18nextCap"),l.Qb(3,"br"),l.xc(4),l.Ub()),2&e){const e=l.fc().$implicit;l.Db(1),l.zc(" ",l.hc(2,2,"remarks")," "),l.Db(3),l.zc(" ",e.remarks," ")}}function C(e,t){if(1&e){const e=l.Wb();l.Tb(0),l.Vb(1,"mat-card"),l.Vb(2,"mat-card-header"),l.Vb(3,"mat-card-title"),l.xc(4),l.gc(5,"i18nextCap"),l.Ub(),l.Ub(),l.Vb(6,"mat-card-content"),l.Vb(7,"mat-list",1),l.Vb(8,"mat-list-item",2),l.Vb(9,"span"),l.xc(10),l.gc(11,"i18nextCap"),l.Ub(),l.Qb(12,"mat-slide-toggle",3),l.Ub(),l.vc(13,q,5,4,"mat-list-item",4),l.Vb(14,"mat-list-item",2),l.Vb(15,"span"),l.xc(16),l.gc(17,"i18nextCap"),l.Ub(),l.xc(18),l.gc(19,"timestamp"),l.Ub(),l.Vb(20,"mat-list-item",2),l.Vb(21,"span"),l.xc(22),l.gc(23,"i18nextCap"),l.Ub(),l.Qb(24,"mat-slide-toggle",3),l.Ub(),l.vc(25,y,5,4,"mat-list-item",4),l.Ub(),l.Ub(),l.Vb(26,"mat-card-actions"),l.Vb(27,"button",5),l.cc("click",function(){return l.pc(e),l.fc().back()}),l.xc(28),l.gc(29,"i18next"),l.Ub(),l.Vb(30,"button",5),l.cc("click",function(){l.pc(e);const t=l.fc();return t.navigateToEdit(t.queenId)}),l.xc(31),l.gc(32,"i18next"),l.Ub(),l.Vb(33,"button",6),l.cc("click",function(){l.pc(e);const c=t.$implicit;return l.fc().deleteQueen(c)}),l.xc(34),l.gc(35,"i18next"),l.Ub(),l.Ub(),l.Ub(),l.Sb()}if(2&e){const e=t.$implicit;l.Db(4),l.Ac("",l.hc(5,15,"queen")," ",e.name,""),l.Db(6),l.yc(l.hc(11,17,"active")),l.Db(2),l.lc("checked",e.active)("disabled",!0),l.Db(1),l.lc("ngIf",e.isMarked),l.Db(3),l.yc(l.hc(17,19,"date")),l.Db(2),l.zc(" ",l.hc(19,21,e.date)," "),l.Db(4),l.yc(l.hc(23,23,"isMarked")),l.Db(2),l.lc("checked",e.isMarked)("disabled",!0),l.Db(1),l.lc("ngIf",e.remarks),l.Db(3),l.yc(l.hc(29,25,"back")),l.Db(3),l.yc(l.hc(32,27,"edit")),l.Db(3),l.yc(l.hc(35,29,"delete"))}}let w=(()=>{class e{constructor(e,t,c,n,i){this.route=e,this.router=t,this.dialog=c,this.queenService=n,this.i18NextService=i}get queenId(){return this.route.snapshot.paramMap.get("queenId")}ngOnInit(){const e=this.queenId;e&&(this.queen$=this.queenService.getQueen(e))}back(){this.router.navigate([".."],{relativeTo:this.route})}deleteQueen(e,t){null==t||t.stopPropagation(),this.dialog.open(b.a,{data:{title:`${this.i18NextService.format("delete","cap")} ${this.i18NextService.t("queen")}`,content:this.i18NextService.t("sentence.confirmDelete",{replace:{what:e.name}})}}).afterClosed().pipe(Object(r.a)(e=>!!e),Object(o.a)(()=>this.queenService.deleteQueen(e).pipe(Object(s.a)(()=>this.back())))).subscribe()}navigateToEdit(e){e&&this.router.navigate(["../edit",e],{relativeTo:this.route})}}return e.\u0275fac=function(t){return new(t||e)(l.Pb(i.a),l.Pb(i.b),l.Pb(u.b),l.Pb(g),l.Pb(a.a))},e.\u0275cmp=l.Jb({type:e,selectors:[["bee-queen-details"]],decls:2,vars:3,consts:[[4,"ngIf"],["role","list"],["role","listitem"],[3,"checked","disabled"],["role","listitem",4,"ngIf"],["mat-stroked-button","",3,"click"],["mat-stroked-button","","color","warn",3,"click"],[3,"color"]],template:function(e,t){1&e&&(l.vc(0,C,36,31,"ng-container",0),l.gc(1,"async")),2&e&&l.lc("ngIf",l.hc(1,1,t.queen$))},directives:[n.l,v.a,v.e,v.h,v.d,V.a,V.b,k.a,v.b,x.b,U.a],pipes:[n.b,a.b,D.a,a.d],styles:["span[_ngcontent-%COMP%]{flex:1 1 auto}"]}),e})();var I=c("SxV6"),Q=c("3Pt+"),S=c("kmnG"),O=c("qFsG"),P=c("iadO"),M=c("Tdyx");function j(e,t){1&e&&(l.Vb(0,"mat-form-field",3),l.Vb(1,"mat-label"),l.xc(2,"Color"),l.Ub(),l.Qb(3,"input",16),l.Vb(4,"mat-hint"),l.xc(5,"Queen is marked with this color"),l.Ub(),l.Ub())}let $=(()=>{class e{constructor(e){this.formBuilder=e,this.submitEvent=new l.o,this.cancelEvent=new l.o,this.form=this.formBuilder.group({id:[""],name:["",Q.r.required],active:[!0],isMarked:[!1],color:[""],date:[new Date,Q.r.required],remarks:[""]})}set queen(e){var t;if(e){const c=null===(t=e.date)||void 0===t?void 0:t.toDate(),n=Object.assign(Object.assign({},e),{date:c});this.form.patchValue(n)}}ngOnInit(){}cancel(){this.cancelEvent.emit()}submit(){this.form.valid&&this.submitEvent.emit(Object.assign({},this.form.value))}}return e.\u0275fac=function(t){return new(t||e)(l.Pb(Q.d))},e.\u0275cmp=l.Jb({type:e,selectors:[["bee-queen-form"]],inputs:{queen:"queen"},outputs:{submitEvent:"submitEvent",cancelEvent:"cancelEvent"},decls:34,vars:5,consts:[[3,"formGroup","ngSubmit"],["type","hidden","formControlName","id"],[1,"form-field"],["appearance","fill"],["matInput","","placeholder","Queen's name","formControlName","name"],["matInput","","formControlName","date",3,"matDatepicker"],["matSuffix","",3,"for"],["touchUi",""],["picker1",""],["matInput","","formControlName","remarks"],["formControlName","isMarked"],["appearance","fill",4,"ngIf"],["formControlName","active"],["justify","right"],["mat-stroked-button","","type","button",3,"click"],["mat-stroked-button","","type","submit","color","primary",3,"disabled"],["matInput","","placeholder","Queed marked color","type","color","formControlName","color"]],template:function(e,t){if(1&e&&(l.Vb(0,"form",0),l.cc("ngSubmit",function(){return t.submit()}),l.Qb(1,"input",1),l.Vb(2,"div",2),l.Vb(3,"mat-form-field",3),l.Vb(4,"mat-label"),l.xc(5,"Name*"),l.Ub(),l.Qb(6,"input",4),l.Vb(7,"mat-hint"),l.xc(8,"Queens name (required)"),l.Ub(),l.Ub(),l.Ub(),l.Vb(9,"div",2),l.Vb(10,"mat-form-field",3),l.Vb(11,"mat-label"),l.xc(12,"Date"),l.Ub(),l.Qb(13,"input",5),l.Qb(14,"mat-datepicker-toggle",6),l.Qb(15,"mat-datepicker",7,8),l.Ub(),l.Ub(),l.Vb(17,"div",2),l.Vb(18,"mat-form-field",3),l.Vb(19,"mat-label"),l.xc(20,"Remarks"),l.Ub(),l.Qb(21,"textarea",9),l.Ub(),l.Ub(),l.Vb(22,"div",2),l.Vb(23,"mat-slide-toggle",10),l.xc(24,"Is marked"),l.Ub(),l.vc(25,j,6,0,"mat-form-field",11),l.Ub(),l.Vb(26,"div",2),l.Vb(27,"mat-slide-toggle",12),l.xc(28,"Is active"),l.Ub(),l.Ub(),l.Vb(29,"bee-button-bar",13),l.Vb(30,"button",14),l.cc("click",function(){return t.cancel()}),l.xc(31,"cancel"),l.Ub(),l.Vb(32,"button",15),l.xc(33,"save"),l.Ub(),l.Ub(),l.Ub()),2&e){const e=l.oc(16);let c=null;l.lc("formGroup",t.form),l.Db(13),l.lc("matDatepicker",e),l.Db(1),l.lc("for",e),l.Db(11),l.lc("ngIf",null==(c=t.form.get("isMarked"))?null:c.value),l.Db(7),l.lc("disabled",t.form.invalid||t.form.pristine)}},directives:[Q.s,Q.n,Q.h,Q.c,Q.m,Q.g,S.b,S.f,O.b,S.e,P.b,P.d,S.g,P.a,k.a,n.l,M.a,x.b],styles:[".form-field[_ngcontent-%COMP%]{align-items:center;display:flex;margin:.5rem 0;min-height:5rem}.mat-form-field[_ngcontent-%COMP%]{align-items:center;flex:1 1 auto}textarea[_ngcontent-%COMP%]{min-height:6rem}"]}),e})(),E=(()=>{class e{constructor(e,t,c){this.route=e,this.location=t,this.queenService=c}get isEdit(){return!!this.queenId}get queenId(){return this.route.snapshot.paramMap.get("queenId")}ngOnInit(){const e=this.queenId;e&&(this.queen$=this.queenService.getQueen(e))}edit(e){const t=e.id?this.queenService.updateQueen(e):this.queenService.createQueen(e);null==t||t.pipe(Object(I.a)(),Object(s.a)(()=>this.cancel())).subscribe()}cancel(){this.location.back()}}return e.\u0275fac=function(t){return new(t||e)(l.Pb(i.a),l.Pb(n.h),l.Pb(g))},e.\u0275cmp=l.Jb({type:e,selectors:[["bee-queen-edit"]],decls:7,vars:4,consts:[[3,"queen","cancelEvent","submitEvent"]],template:function(e,t){1&e&&(l.Vb(0,"mat-card"),l.Vb(1,"mat-card-header"),l.Vb(2,"mat-card-title"),l.xc(3),l.Ub(),l.Ub(),l.Vb(4,"mat-card-content"),l.Vb(5,"bee-queen-form",0),l.cc("cancelEvent",function(){return t.cancel()})("submitEvent",function(e){return t.edit(e)}),l.gc(6,"async"),l.Ub(),l.Ub(),l.Ub()),2&e&&(l.Db(3),l.zc("",t.isEdit?"Edit":"Add"," queen"),l.Db(2),l.lc("queen",l.hc(6,2,t.queen$)))},directives:[v.a,v.e,v.h,v.d,$],pipes:[n.b],styles:[""]}),e})();var N=c("Dh3D"),T=c("+0xr"),z=c("XNiG"),F=c("1G5W");function G(e,t){1&e&&(l.Vb(0,"th",9),l.xc(1),l.gc(2,"i18nextCap"),l.Ub()),2&e&&(l.Db(1),l.zc(" ",l.hc(2,1,"name")," "))}function R(e,t){if(1&e&&(l.Vb(0,"td",10),l.xc(1),l.Ub()),2&e){const e=t.$implicit;l.Db(1),l.zc(" ",e.name," ")}}function J(e,t){1&e&&(l.Vb(0,"th",9),l.xc(1),l.gc(2,"i18nextCap"),l.Ub()),2&e&&(l.Db(1),l.zc(" ",l.hc(2,1,"isMarked")," "))}function _(e,t){if(1&e&&l.Qb(0,"bee-color-dot",13),2&e){const e=l.fc().$implicit;l.lc("color",e.color)}}function A(e,t){1&e&&(l.Vb(0,"span"),l.xc(1,"-"),l.Ub())}function H(e,t){if(1&e&&(l.Vb(0,"td",10),l.vc(1,_,1,1,"bee-color-dot",11),l.vc(2,A,2,0,"span",12),l.Ub()),2&e){const e=t.$implicit;l.Db(1),l.lc("ngIf",e.isMarked),l.Db(1),l.lc("ngIf",!e.isMarked)}}function L(e,t){1&e&&(l.Vb(0,"th",9),l.xc(1),l.gc(2,"i18nextCap"),l.Ub()),2&e&&(l.Db(1),l.zc(" ",l.hc(2,1,"active")," "))}function W(e,t){if(1&e&&(l.Vb(0,"td",10),l.Qb(1,"mat-slide-toggle",14),l.Ub()),2&e){const e=t.$implicit;l.Db(1),l.lc("checked",e.active)("disabled",!0)}}function X(e,t){1&e&&l.Qb(0,"tr",15)}function Z(e,t){if(1&e){const e=l.Wb();l.Vb(0,"tr",16),l.cc("click",function(){l.pc(e);const c=t.$implicit;return l.fc().select(c)}),l.Ub()}}const B=function(){return{count:2}},K=[{path:"",component:(()=>{class e{constructor(e,t,c){this.router=e,this.route=t,this.queenService=c,this.dataSource=new T.k,this.displayedColumns=["name","isMarked","isActive"],this.destroy$=new z.a}ngOnInit(){this.queenService.getQueens().pipe(Object(s.a)(e=>this.dataSource.data=e),Object(F.a)(this.destroy$)).subscribe()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}ngAfterViewInit(){this.dataSource.sort=this.sort}addQueen(){this.router.navigate(["add"],{relativeTo:this.route})}select(e){this.router.navigate([e.id],{relativeTo:this.route})}}return e.\u0275fac=function(t){return new(t||e)(l.Pb(i.b),l.Pb(i.a),l.Pb(g))},e.\u0275cmp=l.Jb({type:e,selectors:[["bee-queen-list"]],viewQuery:function(e,t){if(1&e&&l.Cc(N.a,1),2&e){let e;l.nc(e=l.dc())&&(t.sort=e.first)}},decls:22,vars:12,consts:[["mat-table","","matSort","",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","isMarked"],["matColumnDef","isActive"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",3,"click",4,"matRowDef","matRowDefColumns"],["mat-stroked-button","","color","primary","type","button",3,"click"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],[3,"color",4,"ngIf"],[4,"ngIf"],[3,"color"],[3,"checked","disabled"],["mat-header-row",""],["mat-row","",3,"click"]],template:function(e,t){1&e&&(l.Vb(0,"mat-card"),l.Vb(1,"mat-card-header"),l.Vb(2,"mat-card-title"),l.xc(3),l.gc(4,"i18nextCap"),l.Ub(),l.Ub(),l.Vb(5,"mat-card-content"),l.Vb(6,"table",0),l.Tb(7,1),l.vc(8,G,3,3,"th",2),l.vc(9,R,2,1,"td",3),l.Sb(),l.Tb(10,4),l.vc(11,J,3,3,"th",2),l.vc(12,H,3,2,"td",3),l.Sb(),l.Tb(13,5),l.vc(14,L,3,3,"th",2),l.vc(15,W,2,2,"td",3),l.Sb(),l.vc(16,X,1,0,"tr",6),l.vc(17,Z,1,0,"tr",7),l.Ub(),l.Ub(),l.Vb(18,"mat-card-actions"),l.Vb(19,"button",8),l.cc("click",function(){return t.addQueen()}),l.xc(20),l.gc(21,"i18nextCap"),l.Ub(),l.Ub(),l.Ub()),2&e&&(l.Db(3),l.yc(l.ic(4,6,"queen",l.mc(11,B))),l.Db(3),l.lc("dataSource",t.dataSource),l.Db(10),l.lc("matHeaderRowDef",t.displayedColumns)("matHeaderRowDefSticky",!0),l.Db(1),l.lc("matRowDefColumns",t.displayedColumns),l.Db(3),l.zc(" ",l.hc(21,9,"add")," "))},directives:[v.a,v.e,v.h,v.d,T.j,N.a,T.c,T.e,T.b,T.g,T.i,v.b,x.b,T.d,N.b,T.a,n.l,U.a,k.a,T.f,T.h],pipes:[a.b],styles:["table[_ngcontent-%COMP%]{width:100%}.mat-column-actions[_ngcontent-%COMP%]{width:75px}.mat-row[_ngcontent-%COMP%]:hover{background-color:#f5f5f5;cursor:pointer}"]}),e})()},{path:"add",component:E},{path:"edit/:queenId",component:E},{path:":queenId",component:w}];let Y=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=l.Nb({type:e}),e.\u0275inj=l.Mb({imports:[[i.f.forChild(K)],i.f]}),e})();var ee=c("jAig"),te=c("PCNd");let ce=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=l.Nb({type:e}),e.\u0275inj=l.Mb({imports:[[n.c,a.c,ee.a,Y,Q.q,te.a]]}),e})()}}]);