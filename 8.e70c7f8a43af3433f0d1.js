(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{yf6I:function(e,t,n){"use strict";n.r(t),n.d(t,"InspectionModule",function(){return T});var o=n("ofXK"),c=n("tyNb"),a=n("w1tV"),i=n("fXoL"),r=n("Cfvw"),b=n("I/3d"),l=n("i6m5");let s=(()=>{class e{constructor(e,t){this.angularFirestore=e,this.authService=t}add(e,t){return Object(r.a)(this.angularFirestore.collection(this.collectionPath(t)).add(e))}getInspections(e,t=5){return this.angularFirestore.collection(this.collectionPath(e),e=>e.limit(t).orderBy("date","desc")).valueChanges({idField:"id"})}collectionPath(e){return`beez/${this.authService.uid}/hives/${e}/inspections`}}return e.\u0275fac=function(t){return new(t||e)(i.Zb(b.a),i.Zb(l.a))},e.\u0275prov=i.Lb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var m=n("MutI"),d=n("Tdyx"),p=n("bTqV"),h=n("FKr1"),u=n("NFeN"),f=n("Pm42"),g=n("FVgD"),x=n("TeOG");function y(e,t){if(1&e&&(i.Vb(0,"mat-list-item"),i.Vb(1,"h3",6),i.xc(2),i.gc(3,"timestamp"),i.Ub(),i.Vb(4,"p",7),i.Vb(5,"span"),i.xc(6),i.gc(7,"i18next"),i.Ub(),i.Vb(8,"span"),i.Qb(9,"mat-icon",8),i.Qb(10,"bee-color-dot",9),i.Ub(),i.Vb(11,"span"),i.Vb(12,"mat-icon",10),i.xc(13,"favorite_border"),i.Ub(),i.Vb(14,"mat-icon",10),i.xc(15),i.Ub(),i.Ub(),i.Ub(),i.Ub()),2&e){const e=t.$implicit,n=i.fc(2).$implicit,o=i.fc();i.Db(2),i.zc(" ",i.hc(3,5,e.date),""),i.Db(4),i.Ac("",i.hc(7,7,"honey")," ",o.honeyProgress(e),""),i.Db(4),i.lc("color",o.queenPresentColor(e)),i.Db(5),i.yc(o.trendingIconName(e,n))}}function V(e,t){if(1&e&&(i.Tb(0),i.Vb(1,"bee-button-bar",3),i.Vb(2,"a",4),i.xc(3),i.gc(4,"i18next"),i.Ub(),i.Ub(),i.vc(5,y,16,9,"mat-list-item",5),i.Sb()),2&e){const e=i.fc().$implicit,t=i.fc();i.Db(2),i.lc("relativeTo",t.route),i.Db(1),i.yc(i.hc(4,3,"add")),i.Db(2),i.lc("ngForOf",e)}}function U(e,t){if(1&e&&(i.Vb(0,"mat-list"),i.vc(1,V,6,5,"ng-container",2),i.Ub()),2&e){const e=t.$implicit;i.fc();const n=i.oc(3);i.Db(1),i.lc("ngIf",e.length)("ngIfElse",n)}}const v=function(){return{count:2}};function C(e,t){if(1&e&&(i.Vb(0,"div",11),i.Vb(1,"h3"),i.xc(2),i.gc(3,"i18nextCap"),i.gc(4,"i18next"),i.Ub(),i.Vb(5,"p"),i.Vb(6,"a",4),i.xc(7),i.gc(8,"i18next"),i.Ub(),i.Ub(),i.Ub()),2&e){const e=i.fc();i.Db(2),i.Ac("",i.hc(3,4,"none")," ",i.ic(4,6,"inspections",i.mc(11,v)),""),i.Db(4),i.lc("relativeTo",e.route),i.Db(1),i.yc(i.hc(8,9,"add"))}}let D=(()=>{class e{constructor(e,t){this.route=e,this.inspectionService=t}ngOnInit(){const e=this.route.snapshot.paramMap.get("hiveId");e&&(this.inspections$=this.inspectionService.getInspections(e,5).pipe(Object(a.a)()))}queenPresentColor(e){return e.queen||e.eggs?"green":e.larva?"orange":"red"}honeyProgress(e){return e.honey&&e.honeyClosed?`${e.honey} / ${e.honeyClosed}`:"n/a"}trendingIconName(e,t){const n=null==t?void 0:t.indexOf(e);if(t&&void 0!==n&&-1!==n&&(!n||n+1!==(null==t?void 0:t.length))){const o=t[n+1];if(o){const t=e.health,n=o.health;return t>n?"trending_up":t<n?"trending_down":"compare_arrows"}}return"compare_arrows"}}return e.\u0275fac=function(t){return new(t||e)(i.Pb(c.a),i.Pb(s))},e.\u0275cmp=i.Jb({type:e,selectors:[["bee-inspection-list"]],decls:4,vars:3,consts:[[4,"ngIf"],["noInspections",""],[4,"ngIf","ngIfElse"],["justify","center"],["mat-raised-button","","routerLink","add",3,"relativeTo"],[4,"ngFor","ngForOf"],["matLine",""],["matLine","",1,"line"],["svgIcon","queen"],[3,"color"],["aria-hidden","false","aria-label","health trend"],[1,"notification"]],template:function(e,t){1&e&&(i.vc(0,U,2,2,"mat-list",0),i.gc(1,"async"),i.vc(2,C,9,12,"ng-template",null,1,i.wc)),2&e&&i.lc("ngIf",i.hc(1,1,t.inspections$))},directives:[o.l,m.a,d.a,p.a,c.e,o.k,m.b,h.g,u.a,f.a],pipes:[o.b,g.d,x.a,g.b],styles:["mat-list-item[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]{display:flex;justify-content:space-between}mat-list-item[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{align-items:center;display:inline-flex;flex:1 1 33.333%}mat-list-item[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(2){justify-content:center}mat-list-item[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(3){justify-content:flex-end}bee-color-dot[_ngcontent-%COMP%], mat-icon[_ngcontent-%COMP%]{margin-left:.5rem}.notification[_ngcontent-%COMP%]{text-align:center}"]}),e})();var P=n("3Pt+"),O=n("IzEk"),k=n("vkgz"),I=n("Wp6s"),M=n("qFsG"),_=n("iadO"),w=n("kmnG"),B=n("xHqg"),N=n("5RNC"),Q=n("1jcm");function G(e,t){1&e&&(i.xc(0),i.gc(1,"i18nextCap")),2&e&&i.yc(i.hc(1,1,"honeySuper"))}function q(e,t){1&e&&(i.xc(0),i.gc(1,"i18nextCap")),2&e&&i.yc(i.hc(1,1,"hiveBody"))}function S(e,t){1&e&&(i.xc(0),i.gc(1,"i18nextCap")),2&e&&i.yc(i.hc(1,1,"overall"))}function L(e,t){1&e&&(i.xc(0),i.gc(1,"i18nextCap")),2&e&&i.yc(i.hc(1,1,"done"))}const j=function(){return{count:2}},F=[{path:"",component:D},{path:"add",component:(()=>{class e{constructor(e,t,n,o){this.route=e,this.location=t,this.formBuilder=n,this.inspectionService=o,this.timestamp=new P.e({value:new Date,disabled:!0},P.r.required),this.honeySuperGroup=this.formBuilder.group({honey:[null],honeyClosed:[null]}),this.hiveBodyGroup=this.formBuilder.group({drones:[null],queen:[null],eggs:[null],larva:[null],closedBrood:[null],droneBrood:[null],queenBrood:[null],honeyFood:[null]}),this.overallGroup=this.formBuilder.group({health:[null,P.r.required],remarks:[null]})}ngOnInit(){}formatLabel(e){return e?e+"%":""}submit(){const e=Object.assign(Object.assign(Object.assign({date:this.timestamp.value},this.honeySuperGroup.value),this.hiveBodyGroup.value),this.overallGroup.value),t=this.route.snapshot.paramMap.get("hiveId");t&&this.inspectionService.add(e,t).pipe(Object(O.a)(1),Object(k.a)(()=>this.location.back())).subscribe()}}return e.\u0275fac=function(t){return new(t||e)(i.Pb(c.a),i.Pb(o.h),i.Pb(P.d),i.Pb(s))},e.\u0275cmp=i.Jb({type:e,selectors:[["bee-inspection-add"]],decls:152,vars:116,consts:[["matInput","",1,"timestamp-input",3,"formControl","matDatepicker"],["matSuffix","",3,"for"],["touchUi","","disabled","false"],["picker",""],[3,"linear"],["stepper",""],[3,"stepControl"],["matStepLabel",""],[3,"formGroup"],[1,"form-field"],["max","100","min","0","step","5","tickInterval","5","thumbLabel","true","aria-label","honey","formControlName","honey",3,"displayWith"],["matInput","","hidden",""],["max","100","min","0","step","5","tickInterval","5","thumbLabel","true","aria-label","honey closed","formControlName","honeyClosed",3,"displayWith"],["mat-stroked-button","","color","primary","matStepperNext",""],["formControlName","eggs"],["formControlName","larva"],["formControlName","closedBrood"],["formControlName","droneBrood"],["formControlName","queenBrood"],["formControlName","drones"],["formControlName","queen"],["floatLabel","always"],["max","100","min","0","step","5","tickInterval","5","thumbLabel","true","aria-label","food","formControlName","honeyFood",3,"displayWith"],["mat-stroked-button","","matStepperPrevious",""],["mat-stroked-button","","matStepperNext","","color","primary"],["max","100","min","0","step","5","tickInterval","5","thumbLabel","true","aria-label","health","formControlName","health",3,"displayWith"],["matInput","","formControlName","remarks"],["mat-stroked-button","","color","primary",3,"click"]],template:function(e,t){if(1&e&&(i.Vb(0,"mat-card"),i.Vb(1,"mat-card-header"),i.Vb(2,"mat-card-title"),i.xc(3),i.gc(4,"i18nextCap"),i.Qb(5,"input",0),i.Qb(6,"mat-datepicker-toggle",1),i.Qb(7,"mat-datepicker",2,3),i.Ub(),i.Ub(),i.Vb(9,"mat-card-content"),i.Vb(10,"mat-vertical-stepper",4,5),i.Vb(12,"mat-step",6),i.vc(13,G,2,3,"ng-template",7),i.Vb(14,"form",8),i.Vb(15,"div",9),i.Vb(16,"mat-form-field"),i.Vb(17,"mat-label"),i.xc(18),i.gc(19,"i18nextCap"),i.Ub(),i.Qb(20,"mat-slider",10),i.Qb(21,"textarea",11),i.Ub(),i.Ub(),i.Vb(22,"div",9),i.Vb(23,"mat-form-field"),i.Vb(24,"mat-label"),i.xc(25),i.gc(26,"i18nextCap"),i.gc(27,"i18next"),i.Ub(),i.Qb(28,"mat-slider",12),i.Qb(29,"textarea",11),i.Ub(),i.Ub(),i.Vb(30,"bee-button-bar"),i.Vb(31,"button",13),i.xc(32),i.gc(33,"i18nextCap"),i.Ub(),i.Ub(),i.Ub(),i.Ub(),i.Vb(34,"mat-step",6),i.vc(35,q,2,3,"ng-template",7),i.Vb(36,"form",8),i.Vb(37,"div",9),i.Vb(38,"mat-form-field"),i.Vb(39,"mat-slide-toggle",14),i.xc(40),i.gc(41,"i18nextCap"),i.Ub(),i.Vb(42,"mat-hint"),i.xc(43),i.gc(44,"i18next"),i.Ub(),i.Qb(45,"textarea",11),i.Ub(),i.Ub(),i.Vb(46,"div",9),i.Vb(47,"mat-form-field"),i.Vb(48,"mat-slide-toggle",15),i.xc(49),i.gc(50,"i18nextCap"),i.Ub(),i.Vb(51,"mat-hint"),i.xc(52),i.gc(53,"i18next"),i.Ub(),i.Qb(54,"textarea",11),i.Ub(),i.Ub(),i.Vb(55,"div",9),i.Vb(56,"mat-form-field"),i.Vb(57,"mat-slide-toggle",16),i.xc(58),i.gc(59,"i18nextCap"),i.gc(60,"i18next"),i.Ub(),i.Vb(61,"mat-hint"),i.xc(62),i.gc(63,"i18next"),i.Ub(),i.Qb(64,"textarea",11),i.Ub(),i.Ub(),i.Vb(65,"div",9),i.Vb(66,"mat-form-field"),i.Vb(67,"mat-slide-toggle",17),i.xc(68),i.gc(69,"i18nextCap"),i.Ub(),i.Vb(70,"mat-hint"),i.xc(71),i.gc(72,"i18next"),i.Ub(),i.Qb(73,"textarea",11),i.Ub(),i.Ub(),i.Vb(74,"div",9),i.Vb(75,"mat-form-field"),i.Vb(76,"mat-slide-toggle",18),i.xc(77),i.gc(78,"i18nextCap"),i.Ub(),i.Vb(79,"mat-hint"),i.xc(80),i.gc(81,"i18next"),i.Ub(),i.Qb(82,"textarea",11),i.Ub(),i.Ub(),i.Vb(83,"div",9),i.Vb(84,"mat-form-field"),i.Vb(85,"mat-slide-toggle",19),i.xc(86),i.gc(87,"i18nextCap"),i.Ub(),i.Vb(88,"mat-hint"),i.xc(89),i.gc(90,"i18next"),i.Ub(),i.Qb(91,"textarea",11),i.Ub(),i.Ub(),i.Vb(92,"div",9),i.Vb(93,"mat-form-field"),i.Vb(94,"mat-slide-toggle",20),i.xc(95),i.gc(96,"i18nextCap"),i.Ub(),i.Vb(97,"mat-hint"),i.xc(98),i.gc(99,"i18next"),i.Ub(),i.Qb(100,"textarea",11),i.Ub(),i.Ub(),i.Vb(101,"div",9),i.Vb(102,"mat-form-field",21),i.Vb(103,"mat-label"),i.xc(104),i.gc(105,"i18nextCap"),i.gc(106,"i18next"),i.Ub(),i.Qb(107,"mat-slider",22),i.Vb(108,"mat-hint"),i.xc(109),i.gc(110,"i18next"),i.Ub(),i.Qb(111,"textarea",11),i.Ub(),i.Ub(),i.Vb(112,"bee-button-bar"),i.Vb(113,"button",23),i.xc(114),i.gc(115,"i18nextCap"),i.Ub(),i.Vb(116,"button",24),i.xc(117),i.gc(118,"i18nextCap"),i.Ub(),i.Ub(),i.Ub(),i.Ub(),i.Vb(119,"mat-step",6),i.vc(120,S,2,3,"ng-template",7),i.Vb(121,"form",8),i.Vb(122,"div",9),i.Vb(123,"mat-form-field"),i.Vb(124,"mat-label"),i.xc(125),i.gc(126,"i18nextCap"),i.gc(127,"i18next"),i.Ub(),i.Qb(128,"mat-slider",25),i.Qb(129,"textarea",11),i.Ub(),i.Ub(),i.Vb(130,"div",9),i.Vb(131,"mat-form-field"),i.Vb(132,"mat-label"),i.xc(133),i.gc(134,"i18nextCap"),i.Ub(),i.Qb(135,"textarea",26),i.Ub(),i.Ub(),i.Vb(136,"bee-button-bar"),i.Vb(137,"button",23),i.xc(138),i.gc(139,"i18nextCap"),i.Ub(),i.Vb(140,"button",24),i.xc(141),i.gc(142,"i18nextCap"),i.Ub(),i.Ub(),i.Ub(),i.Ub(),i.Vb(143,"mat-step"),i.vc(144,L,2,3,"ng-template",7),i.Vb(145,"bee-button-bar"),i.Vb(146,"button",23),i.xc(147),i.gc(148,"i18nextCap"),i.Ub(),i.Vb(149,"button",27),i.cc("click",function(){return t.submit()}),i.xc(150),i.gc(151,"i18nextCap"),i.Ub(),i.Ub(),i.Ub(),i.Ub(),i.Ub(),i.Ub()),2&e){const e=i.oc(8);i.Db(3),i.zc(" ",i.hc(4,46,"inspection")," "),i.Db(2),i.lc("formControl",t.timestamp)("matDatepicker",e),i.Db(1),i.lc("for",e),i.Db(4),i.lc("linear",!0),i.Db(2),i.lc("stepControl",t.honeySuperGroup),i.Db(2),i.lc("formGroup",t.honeySuperGroup),i.Db(4),i.yc(i.hc(19,48,"honey")),i.Db(2),i.lc("displayWith",t.formatLabel),i.Db(5),i.Ac("",i.hc(26,50,"honey")," ",i.hc(27,52,"closed"),""),i.Db(3),i.lc("displayWith",t.formatLabel),i.Db(4),i.yc(i.hc(33,54,"next")),i.Db(2),i.lc("stepControl",t.hiveBodyGroup),i.Db(2),i.lc("formGroup",t.hiveBodyGroup),i.Db(4),i.yc(i.ic(41,56,"egg",i.mc(113,j))),i.Db(3),i.yc(i.hc(44,59,"sentence.eggsPresent")),i.Db(6),i.yc(i.ic(50,61,"larva",i.mc(114,j))),i.Db(3),i.yc(i.hc(53,64,"sentence.openBrood")),i.Db(6),i.Ac("",i.hc(59,66,"closed")," ",i.hc(60,68,"brood"),""),i.Db(4),i.yc(i.hc(63,70,"sentence.closedBrood")),i.Db(6),i.yc(i.hc(69,72,"droneBrood")),i.Db(3),i.yc(i.hc(72,74,"sentence.droneBroodPresent")),i.Db(6),i.yc(i.hc(78,76,"queenBrood")),i.Db(3),i.yc(i.hc(81,78,"sentence.queenBroodPresent")),i.Db(6),i.yc(i.ic(87,80,"drone",i.mc(115,j))),i.Db(3),i.yc(i.hc(90,83,"sentence.dronesPresent")),i.Db(6),i.yc(i.hc(96,85,"queen")),i.Db(3),i.yc(i.hc(99,87,"sentence.queenPresent")),i.Db(6),i.Ac("",i.hc(105,89,"food")," (",i.hc(106,91,"honey"),")"),i.Db(3),i.lc("displayWith",t.formatLabel),i.Db(2),i.zc("",i.hc(110,93,"sentence.hiveBodyFood"),"."),i.Db(5),i.yc(i.hc(115,95,"back")),i.Db(3),i.yc(i.hc(118,97,"next")),i.Db(2),i.lc("stepControl",t.overallGroup),i.Db(2),i.lc("formGroup",t.overallGroup),i.Db(4),i.Ac("",i.hc(126,99,"overall")," ",i.hc(127,101,"health"),""),i.Db(3),i.lc("displayWith",t.formatLabel),i.Db(5),i.yc(i.hc(134,103,"remarks")),i.Db(5),i.yc(i.hc(139,105,"back")),i.Db(3),i.yc(i.hc(142,107,"next")),i.Db(6),i.yc(i.hc(148,109,"back")),i.Db(3),i.yc(i.hc(151,111,"done"))}},directives:[I.a,I.e,I.h,M.b,P.c,_.b,P.m,P.f,_.d,w.g,_.a,I.d,B.f,B.a,B.b,P.s,P.n,P.h,w.b,w.f,N.a,P.g,d.a,p.b,B.d,Q.a,w.e,B.e],pipes:[g.b,g.d],styles:[".form-field[_ngcontent-%COMP%]{align-items:center;display:flex;margin:.5rem 0;min-height:5rem}mat-form-field[_ngcontent-%COMP%]{flex:1 1 auto}.mat-form-field[_ngcontent-%COMP%]   mat-label[_ngcontent-%COMP%]{align-self:center;display:inline-flex;width:150px}.mat-form-field[_ngcontent-%COMP%]   mat-slider[_ngcontent-%COMP%]{max-width:320px;width:100%}textarea[_ngcontent-%COMP%]{height:10rem;width:100%}.timestamp-input[_ngcontent-%COMP%]{border:none;background:transparent;color:inherit;font:inherit;width:7rem}"]}),e})()}];let $=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i.Nb({type:e}),e.\u0275inj=i.Mb({imports:[[c.f.forChild(F)],c.f]}),e})();var W=n("jAig"),A=n("PCNd");let T=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i.Nb({type:e}),e.\u0275inj=i.Mb({imports:[[o.c,g.c,$,P.q,W.a,A.a]]}),e})()}}]);